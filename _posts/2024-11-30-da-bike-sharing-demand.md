---
#layout: post
title: 자전거 대여 수요 예측을 위한 머신러닝 모델 구축
date: 2024-11-30
description: # 검색어 및 글요약
categories: [Data_analysis, Python_DA_Library]        # 메인 카테고리, 하위 카테고리(생략가능)
tags:           # 반드시 소문자로 작성, 한글가능
- Data_analysis
- Python
- ML
#pin: true # 해당글을 홈에서 고정시킬지
#toc: false # 오른쪽 목차 설정
#comments: false # 댓글 설정

#image: # 미리보기 이미지 설정
#  path: /path/to/image # 경로
#  alt: image alternative text # 이미지 설명 (생략가능)

mermaid: true # 다이어그램 생성 도구 (https://github.com/mermaid-js/mermaid)
math : true # 수학도구
---

## 1. 분석 배경 및 목적   
--- 

- 분석 배경 : 워싱턴 D.C.의 A사 자전거 대여 시스템 운영 담당자로서 자전거 대여 패턴을 분석하여 자전거 배치와 운영 전략을 최적화하고, 대여 수요를 정확히 예측하고자 함
- 분석 목적 : 자전거 대여 시스템의 효율성을 높이고 사용자 만족도 증가
- **분석 목표 : 머신러닝 모델을 실험하여 RMSLE를 낮추는 최적의 자전거 대여 수요 예측 모델 개발**
    - RMSLE란? : Root Mean Squared Logarithmic Error의 약자로, 예측 값과 실제 값의 차이를 로그 변환하여 계산한 후, 그 차이의 제곱 평균의 제곱근을 구한 값
        - 이 지표는 예측 오차를 측정하는데 사용되며, 특히 큰 값보다 작은 값의 오차를 더 중요시하는 지표
        - 예측 값이 실제 값보다 훨씬 클 때 더 큰 패널티를 부과하므로, 예측 값이 과대평가되는 것을 방지하는데 효과적  
        - 안정성 : 예측 값과 실제 값이 0에 가까울 경우에도 로그 변환을 통해 안정적인 값 산출
        - 과대평가 방지 : 예측 값이 실제 값보다 훨씬 클 때 더 많은 패널티를 부과하여 과대평가를 방지하고 모델의 신뢰성을 높임  

$$
RMSLE = \sqrt{\frac{1}{n} \sum_{i=1}^{n} (\log(y_i + 1) - \log(\hat{y}_i + 1))^2}
$$

<br>

## 2. 데이터 소개   
---

 - 워싱턴 DC에서 자전거 대여 시스템의 사용 데이터를 포함하여 날씨, 계절, 시간 등의 데이터 보유  
 - 기간 : 2011년 ~ 2012년 자전거 대여 데이터  
    - train.csv 파일에는 `count` 컬럼이 포함되어 있으며, 예측 대상인 종속 변수
    - test.csv 파일에는 `casual`, `registered`, `count` 컬럼이 포함되어 있지 않음
    - `casual`과 `registered`는 자전거 대여 수요를 예측하는데 참고자료이며, `count`는 두 컬럼간의 합을 보여줌  

| 컬럼명     | 데이터 타입 | 설명                                                               |
| ---------- | ----------- | ------------------------------------------------------------------ |
| datetime   | datetime    | 자전거 대여 기록의 날짜 및 시간. 예시: 2011-01-01 00:00:00         |
| season     | int         | 계절 (1: 봄, 2: 여름, 3: 가을, 4: 겨울)                            |
| holiday    | int         | 공휴일 여부 (0: 평일, 1: 공휴일)                                   |
| workingday | int         | 근무일 여부 (0: 주말/공휴일, 1: 근무일)                            |
| weather    | int         | 날씨 상황 (1: 맑음, 2: 구름낌/안개, 3: 약간의 비/눈, 4: 폭우/폭설) |
| temp       | float       | 실측 온도 (섭씨)                                                   |
| atemp      | float       | 체감 온도 (섭씨)                                                   |
| humidity   | int         | 습도 (%)                                                           |
| windspeed  | float       | 풍속 (m/s)                                                         |
| casual     | int         | 등록되지 않은 사용자의 대여 수                                     |
| registered | int         | 등록된 사용자의 대여 수                                            |
| count      | int         | 총 대여 수 (종속 변수)                                             |

<br>

## 3. EDA   
---

### 3-1. 기초 데이터 파악   

- 훈련데이터(train) : 10,886행 12열 데이터로 구성됨
  - `datetime`열부터 `registered`열까지 자전거 대여 수`count`를 예측하는데 사용되는 컬럼이며, `count`는 `casual`(비회원)과 `registered`(회원)의 자전거 대여 수 합계를 나타낸다
  - 다만, test데이터에 `casual`, `registered`열이 없기때문에 모델 훈련시 해당 컬럼을 제외해야한다
- 테스트데이터(test) : 6,493행 9열 데이터로 구성됨
  - 훈련데이터(train)의 `casual`과 `registered`, `count`열이 포함되어있지 않음
- 데이터 타입 : `2. 데이터 소개`컬럼 표에 나와있듯이 데이터 타입은 훈련 데이터와 테스트 데이터가 동일함

<br>

### 3-2. 데이터 전처리   

#### 3-2-1. 결측치 처리   

![image.png](/assets/img/bike_demand/1.PNG)

- 훈련 데이터와 테스트 데이터 모두 결측값이 관찰되지 않음

<br>

#### 3-2-2. 파생변수 생성   


  - 현재 데이터 상 `datetime`열은 `object`타입으로 연도, 월, 일, 시간, 분, 초로 구성되어있음
  - 원활한 분석을 위해 묶여있는부분을 각각 풀어서 파생변수를 생성하여 활용하고자 함
  - `datetime`열을 각각 세분화하고 요일을 파생변수로 추가함

<br>








<br>
<br>
<br>
<br>
<br>
<br>